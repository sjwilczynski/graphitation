interface Node {
  id: ID!
}

interface NodeWithTodos implements Node {
  id: ID!
  todos(first: Int!, after: String): TodosConnection!
}

type MeWithTodos implements NodeWithTodos & Node {
  id: ID!
  todos(first: Int!, after: String): TodosConnection!
}

type Query {
  meWithTodos: MeWithTodos!
  node(id: ID!): Node
  viewData: ViewData!
}

type ViewData {
  todoView: TodoViewData!
}

type TodoViewData {
  totalCountString: String!
  uncompletedCountString: String!
}

type PageInfo {
  hasPreviousPage: Boolean!
  hasNextPage: Boolean!
  startCursor: String
  endCursor: String
}

type TodosConnection implements Node {
  id: ID!
  totalCount: Int!
  uncompletedCount: Int!
  edges: [TodosConnectionEdge!]!
  pageInfo: PageInfo!
}

type TodosConnectionEdge {
  node: Todo!
  cursor: String!
}

type Todo implements Node {
  id: ID!
  description: String!
  isCompleted: Boolean!
  someOtherField: String!
}

type Mutation {
  addTodo(input: AddTodoInput!): AddTodoPayload
  changeTodoStatus(input: ChangeTodoStatusInput!): ChangeTodoStatusPayload
}

type AddTodoPayload {
  todoEdge: TodosConnectionEdge
  todos: TodosConnection!
}

input AddTodoInput {
  description: String!
}

type ChangeTodoStatusPayload {
  todo: Todo!
  todos: TodosConnection!
}

input ChangeTodoStatusInput {
  id: ID!
  isCompleted: Boolean!
}
